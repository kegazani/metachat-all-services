# üöÄ MetaChat - AI-Powered Dating Platform

> **üëâ –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å? –ù–∞—á–Ω–∏—Ç–µ –∑–¥–µ—Å—å: [START_HERE.md](START_HERE.md)**  
> **‚ö° –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: [QUICK_START.md](QUICK_START.md)**  
> **üíª –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥: [COMMANDS.md](COMMANDS.md)**

MetaChat - —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–Ω–∞–∫–æ–º—Å—Ç–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å –∞–Ω–∞–ª–∏–∑–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ—Ñ–∏–ª—è–º–∏ –∏ —É–º–Ω—ã–º –ø–æ–¥–±–æ—Ä–æ–º –ø–∞—Ä.

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üé≠ **–ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑** - –∞–Ω–∞–ª–∏–∑ –ª–∏—á–Ω–æ—Å—Ç–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–Ω–µ–≤–Ω–∏–∫–æ–≤—ã—Ö –∑–∞–ø–∏—Å–µ–π
- üòä **–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è** - AI-–∞–Ω–∞–ª–∏–∑ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üíì **–ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —É—á–µ—Ç –¥–∞–Ω–Ω—ã—Ö —Å —Ñ–∏—Ç–Ω–µ—Å-—Ç—Ä–µ–∫–µ—Ä–æ–≤
- ü§ù **–£–º–Ω—ã–π –º–∞—Ç—á–∏–Ω–≥** - –ø–æ–¥–±–æ—Ä –ø–∞—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- üí¨ **–†–µ–∞–ª-—Ç–∞–π–º —á–∞—Ç** - –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- üìä **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –ø–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∏–Ω—Å–∞–π—Ç—ã
- üìà **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Grafana –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

**Core Services (Go):**
- `api-gateway` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `user-service` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- `diary-service` - –ª–∏—á–Ω—ã–π –¥–Ω–µ–≤–Ω–∏–∫
- `matching-service` - –∞–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–¥–±–æ—Ä–∞ –ø–∞—Ä
- `match-request-service` - –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –º–∞—Ç—á–∏–Ω–≥
- `chat-service` - —Å–∏—Å—Ç–µ–º–∞ —á–∞—Ç–∞

**AI/ML Services (Python):**
- `mood-analysis-service` - –∞–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏–∑ —Ç–µ–∫—Å—Ç–∞
- `analytics-service` - –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `archetype-service` - –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∞—Ä—Ö–µ—Ç–∏–ø—ã (Big Five)
- `biometric-service` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- `correlation-service` - –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è –∏ –±–∏–æ–º–µ—Ç—Ä–∏–∏

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- **Kafka** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- **Cassandra** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤
- **PostgreSQL** - —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **EventStore** - event sourcing
- **NATS** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π message broker
- **Prometheus + Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Loki + Promtail** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker 20.10+
- Docker Compose 2.0+
- 8GB RAM (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 16GB)
- 20GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

**Linux/Mac:**
```bash
git clone <repository-url>
cd metachat
cd docker
chmod +x deploy-full.sh
./deploy-full.sh
```

**Windows (PowerShell):**
```powershell
git clone <repository-url>
cd metachat
cd docker
.\deploy-full.ps1
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ
2. üßπ –û—á–∏—Å—Ç–∏—Ç —Å—Ç–∞—Ä—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
3. üåê –°–æ–∑–¥–∞—Å—Ç Docker —Å–µ—Ç—å
4. üî® –°–æ–±–µ—Ä–µ—Ç –≤—Å–µ Docker –æ–±—Ä–∞–∑—ã
5. üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
6. ‚è≥ –î–æ–∂–¥–µ—Ç—Å—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
7. üìù –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ö–µ–º—ã –∏ —Ç–æ–ø–∏–∫–∏
8. üéØ –ó–∞–ø—É—Å—Ç–∏—Ç –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
9. üìä –ó–∞–ø—É—Å—Ç–∏—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–í—Ä–µ–º—è –¥–µ–ø–ª–æ—è:** ~10-20 –º–∏–Ω—É—Ç –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:**
- API Gateway: http://localhost:8080

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- Grafana: http://localhost:3000 (admin / metachat2024)
- Prometheus: http://localhost:9090
- Kafka UI: http://localhost:8090

**–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:**
- PostgreSQL: localhost:5432 (metachat / metachat_password)
- Cassandra: localhost:9042
- EventStore: http://localhost:2113

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [üìã Quick Start Guide](QUICK_START.md) - –ø–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∑–∞–ø—É—Å–∫—É
- [üê≥ Docker Deployment](docker/README.md) - –¥–µ–ø–ª–æ–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- [üèõÔ∏è Architecture](docs/ARCHITECTURE.md) - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [üìä Service Flow](docs/DETAILED_SERVICE_FLOW.md) - –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- [üíª Local Development](docs/LOCAL_DEVELOPMENT.md) - –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- [üìà Flow Diagrams](docs/FLOW_DIAGRAMS.md) - –¥–∏–∞–≥—Ä–∞–º–º—ã –ø–æ—Ç–æ–∫–æ–≤

## üõ†Ô∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
cd docker

./logs.sh all              # –í—Å–µ –ª–æ–≥–∏
./logs.sh infra            # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
./logs.sh services         # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./logs.sh api-gateway      # –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

```bash
./status.sh                # –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç—É—Å –∏ URLs
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
./stop-all.sh              # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```bash
cd docker
docker compose -f docker-compose.services.yml restart api-gateway
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
metachat/
‚îú‚îÄ‚îÄ metachat-all-services/     # –í—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ metachat-api-gateway/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-user-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-diary-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-matching-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-match-request-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-chat-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-mood-analysis-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-analytics-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-archetype-service/
‚îÇ   ‚îú‚îÄ‚îÄ metachat-biometric-service/
‚îÇ   ‚îî‚îÄ‚îÄ metachat-correlation-service/
‚îú‚îÄ‚îÄ metachat-frontend/         # Vue.js —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ metachat_app/              # Flutter mobile app
‚îú‚îÄ‚îÄ docker/                    # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ deploy-full.sh/ps1    # –ü–æ–ª–Ω—ã–π –¥–µ–ø–ª–æ–π
‚îÇ   ‚îú‚îÄ‚îÄ stop-all.sh/ps1       # –û—Å—Ç–∞–Ω–æ–≤–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ logs.sh/ps1           # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ status.sh/ps1         # –°—Ç–∞—Ç—É—Å
‚îÇ   ‚îî‚îÄ‚îÄ monitoring/           # Prometheus, Grafana
‚îî‚îÄ‚îÄ docs/                      # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

### –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–∞

```bash
cd docker
docker compose -f docker-compose.services.yml build user-service
docker compose -f docker-compose.services.yml up -d user-service
```

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–∞–º

**Cassandra:**
```bash
docker exec -it cassandra cqlsh
USE metachat;
DESCRIBE TABLES;
```

**PostgreSQL:**
```bash
docker exec -it postgres psql -U metachat -d metachat
\dt
```

## üìä API Examples

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

```bash
curl -X POST http://localhost:8080/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "user@example.com",
    "password": "securepass123",
    "name": "John Doe",
    "birth_date": "1990-01-01",
    "gender": "male"
  }'
```

### –°–æ–∑–¥–∞–Ω–∏–µ –¥–Ω–µ–≤–Ω–∏–∫–æ–≤–æ–π –∑–∞–ø–∏—Å–∏

```bash
curl -X POST http://localhost:8080/api/v1/diary/entries \
  -H "Authorization: Bearer <token>" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Great day!",
    "content": "Today was amazing, feeling very happy and energetic!",
    "mood": "happy"
  }'
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π

```bash
curl -X GET http://localhost:8080/api/v1/matching/recommendations \
  -H "Authorization: Bearer <token>"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Postman Collection

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é:
- –§–∞–π–ª: `MetaChat_API.postman_collection.json`
- –ë–∞–∑–æ–≤—ã–π URL: `http://localhost:8080`

### Health Checks

```bash
curl http://localhost:8080/health
curl http://localhost:9090/-/healthy    # Prometheus
curl http://localhost:3100/ready        # Loki
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Grafana Dashboards

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000:
- –õ–æ–≥–∏–Ω: `admin`
- –ü–∞—Ä–æ–ª—å: `metachat2024`

–ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã:
- **MetaChat Services** - –æ–±—â–∏–π –æ–±–∑–æ—Ä —Å–µ—Ä–≤–∏—Å–æ–≤
- **Kafka Monitoring** - –º–µ—Ç—Ä–∏–∫–∏ Kafka
- **Database Performance** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–î
- **System Resources** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

### Prometheus Metrics

–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ (http://localhost:9090):

```promql
rate(http_requests_total[5m])
container_memory_usage_bytes{name="api-gateway"}
kafka_server_brokertopicmetrics_messagesin_total
```

### Kafka UI

http://localhost:8090 - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–ø–∏–∫–æ–≤ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π

## üêõ Troubleshooting

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Docker

```bash
docker --version
docker compose version
docker info
```

### –û—á–∏—Å—Ç–∫–∞

```bash
cd docker
docker compose -f docker-compose.infrastructure.yml down -v
docker compose -f docker-compose.services.yml down -v
docker system prune -a -f
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ—Ä—Ç–∞–º–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç—ã —Å–≤–æ–±–æ–¥–Ω—ã:
```bash
netstat -an | grep -E '8080|9092|5432|9042'
```

### –õ–æ–≥–∏ –æ—à–∏–±–æ–∫

```bash
cd docker
./logs.sh kafka
./logs.sh cassandra
./logs.sh api-gateway
```

## üì¶ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Go 1.21+ (core services)
- Python 3.11+ (AI/ML services)
- gRPC –¥–ª—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- REST API –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

**Frontend:**
- Vue.js 3 (web)
- Flutter (mobile)

**Infrastructure:**
- Docker & Docker Compose
- Kafka –¥–ª—è event streaming
- Cassandra –¥–ª—è time-series –¥–∞–Ω–Ω—ã—Ö
- PostgreSQL –¥–ª—è —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- EventStore –¥–ª—è event sourcing
- NATS –¥–ª—è lightweight messaging

**Monitoring:**
- Prometheus - –º–µ—Ç—Ä–∏–∫–∏
- Grafana - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- Loki - –ª–æ–≥–∏
- Promtail - —Å–±–æ—Ä–∫–∞ –ª–æ–≥–æ–≤

## ü§ù Contributing

1. Fork the repository
2. Create feature branch (`git checkout -b feature/amazing-feature`)
3. Commit changes (`git commit -m 'Add amazing feature'`)
4. Push to branch (`git push origin feature/amazing-feature`)
5. Open Pull Request

## üìÑ License

This project is licensed under the MIT License.

## üë• Team

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –∫–æ–º–∞–Ω–¥–æ–π MetaChat

## üìû Support

- üìß Email: support@metachat.com
- üí¨ Discord: [MetaChat Community]
- üìñ Docs: [docs.metachat.com]

---

**‚≠ê –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è, –ø–æ—Å—Ç–∞–≤—å—Ç–µ –∑–≤–µ–∑–¥—É!**

