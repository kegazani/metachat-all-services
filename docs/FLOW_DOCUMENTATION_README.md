# –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Flow —Å–µ—Ä–≤–∏—Å–æ–≤ MetaChat

## üìö –û–±–∑–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö flow (–ø–æ—Ç–æ–∫–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏) –≤ —Å–∏—Å—Ç–µ–º–µ MetaChat.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### 1. **DETAILED_SERVICE_FLOW.md** ‚≠ê
**–û—Å–Ω–æ–≤–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö flow**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –í—Ö–æ–¥–Ω—ã–µ –∏ –≤—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –º–µ—Ö–∞–Ω–∏–∑–º—ã

**–û—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç 9 –æ—Å–Ω–æ–≤–Ω—ã—Ö flow:**
1. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –¥–Ω–µ–≤–Ω–∏–∫–µ
3. –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
4. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ (Big Five)
5. –û–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
6. –ü–æ–∏—Å–∫ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π
7. –ü–æ–¥–±–æ—Ä —Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
8. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –æ–±—â–µ–Ω–∏–µ
9. –ß–∞—Ç –º–µ–∂–¥—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏

### 2. **DETAILED_FLOW_DIAGRAMS.md** üìä
**–í–∏–∑—É–∞–ª—å–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –≤—Å–µ—Ö flow**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- Mermaid –¥–∏–∞–≥—Ä–∞–º–º—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ flow
- Sequence –¥–∏–∞–≥—Ä–∞–º–º—ã (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- Flowchart –¥–∏–∞–≥—Ä–∞–º–º—ã (–ø—Ä–æ—Ü–µ—Å—Å—ã)
- ER –¥–∏–∞–≥—Ä–∞–º–º—ã (—Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö)
- Gantt –¥–∏–∞–≥—Ä–∞–º–º—ã (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏)
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã

**–¢–∏–ø—ã –¥–∏–∞–≥—Ä–∞–º–º:**
- Sequence Diagrams - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–æ –≤—Ä–µ–º–µ–Ω–∏
- Flowcharts - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏–∫—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- ER Diagrams - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–Ω–Ω—ã—Ö
- Architecture Diagrams - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–±—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### 3. **FLOW_DIAGRAMS.md** üìà
**–ë–∞–∑–æ–≤—ã–µ –¥–∏–∞–≥—Ä–∞–º–º—ã (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏)**

–°–æ–¥–µ—Ä–∂–∏—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è.

### 4. **DIAGRAM_VISUALIZATION.md** üñºÔ∏è
**–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º**

–°–æ–¥–µ—Ä–∂–∏—Ç:
- –°–ø–æ—Å–æ–±—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏–∑ Mermaid –¥–∏–∞–≥—Ä–∞–º–º
- –û–Ω–ª–∞–π–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### 5. **ARCHITECTURE.md** üèóÔ∏è
**–û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã**

–°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –∏—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. –ù–∞—á–Ω–∏—Ç–µ —Å **DETAILED_SERVICE_FLOW.md** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **DETAILED_FLOW_DIAGRAMS.md** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è
3. –°–º–æ—Ç—Ä–∏—Ç–µ **ARCHITECTURE.md** –¥–ª—è –æ–±—â–µ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

### –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∏–∞–≥—Ä–∞–º–º:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **DIAGRAM_VISUALIZATION.md**
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mermaid Live Editor (https://mermaid.live/)
3. –ò–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã `generate_diagrams.sh` / `generate_diagrams.ps1`

## üìä –ö–ª—é—á–µ–≤—ã–µ flow

### üîÑ –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏:

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å—å
    ‚Üì
Diary Service —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏ –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–±—ã—Ç–∏–µ
    ‚Üì
Mood Analysis Service –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
    ‚Üì
Personality Service –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç/–æ–±–Ω–æ–≤–ª—è–µ—Ç –ª–∏—á–Ω–æ—Å—Ç—å
    ‚Üì
User Service –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å
    ‚Üì
Matching Service –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
```

### ‚ö° –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

| Flow | –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —á–∞—Å—Ç—å | –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —á–∞—Å—Ç—å |
|------|----------------|-------------------|
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è | 100-300ms | 500ms-2s |
| –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ | 150-400ms | 400ms-1.5s |
| –ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è | - | 400ms-1.5s |
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ª–∏—á–Ω–æ—Å—Ç–∏ | - | 400ms-1.2s |
| –ü–æ–¥–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | 200-600ms | - |

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Event-Driven Architecture** - Kafka –¥–ª—è —Å–æ–±—ã—Ç–∏–π
- **Event Sourcing** - EventStoreDB/PostgreSQL
- **CQRS** - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Microservices** - –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã
- **AI/ML** - Python —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –í—Å–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mermaid
- –î–∏–∞–≥—Ä–∞–º–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ GitHub/GitLab
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mermaid CLI
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [ARCHITECTURE.md](./ARCHITECTURE.md) - –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- [LOCAL_DEVELOPMENT.md](./LOCAL_DEVELOPMENT.md) - –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- [IMPLEMENTATION_SUMMARY.md](./IMPLEMENTATION_SUMMARY.md) - –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏


